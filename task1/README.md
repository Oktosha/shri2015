Задание №1
==========

Сверстайте табло аэропорта. На нём должны быть представлены следующие данные:

+ тип рейса (вылет/прилёт; например это может быть иконка);
+ номер рейса;
+ авиакомпания;
+ логотип авиакомпании;
+ тип воздушного судна;
+ аэропорт назначения;
+ плановое время вылета или прилёта;
+ статус рейса (для вылетающих: регистрация, ожидание посадки, посадка закончена, вылетел; для прилетающих: по расписанию, летит, приземлился; для всех: задерживается до HH:MM, отменён);
+ примечание (например, информация о код-шеринге с другими авиакомпаниями).

В качестве источника можно использовать данные онлайн-табло любого аэропорта мира.
Дизайн оформления выберите на своё усмотрение, при этом необходимо реализовать следующее:

+ по наведению курсора на определённое место в табло контрастным цветом выделяются соответствующие строка и столбец;
+ нечётные строки табло темнее чётных;
+ количество отображаемых данных по высоте больше ширины экрана, при прокрутке заголовок таблицы приклеивается к верхней части видимой области окна браузера;
+ при изменении ширины экрана браузера в табло автоматически скрываются и/или сокращаются значения наименее важных столбцов (например, при ширине 1000 пикселей вы показываете всю таблицу, при ширине 900 пикселей — убираете название авиакомпании, оставляя только логотип, 800 пикселей — сокращаете название воздушного судна (Boeing 737-800 -> B737) и так далее);
+ в дополнение к предыдущему пункту сделайте так, чтобы по клику на соответствующую строчку в выплывающем окне показывались все данные рейса;
+ два чекбокса над самим табло: прилёт и вылет, по нажатию показываются только соответствующие рейсы.
+ Плюсом будет, если вам удастся реализовать табло без JavaScript.

Результат пришлите в виде двух ссылок: на работающий пример и на исходный код на GitHub.

Решение
=======

Шаг 1. Какие данные мне нужны и откуда?
---------------------------------------

###Тип рейса
Тут всё просто, два слова, иногда 2 иконки.

###Номер рейса
Номер рейса состоит из обозначения авиакомпании (две буквы) и, собственно, номера (3 или 4 цифры). Хм, а может ли из одного аэропорта вылетать разные рейсы с одинаковой цифрой, кроме как по код-шерингу? Вроде это ничему не противоречит. Ещё бывают такие [правила](http://www.innovbusiness.ru/pravo/DocumShow_DocumID_120544.html) Кроме того, бывает, что на один и тот же самолёт разные номера рейсов (а не только префиксы компании), если верить [википедии](https://en.wikipedia.org/wiki/Codeshare_agreement). Вывод: номер рейса без префикса компании лучше не оставлять. Кстати, нужно решить, какой префикс (русскими или латиницей) мне нравится больше. Видимо, латиницей.

###Авиакомпания
Авиакомпанию можно обозначать названием или буквенным кодом. Но буквенный код дублируется в номере рейса, поэтому в этом столбце не нужен.

###Логотип авиакомпании
Просто картинка, ничего сложного.

###Тип воздушного судна
Ну, например брать коды [по ICAO](http://aerolan.dn.ua/icao-kody-samoletov) или [по IATA](http://aerolan.dn.ua/iata-kody-samoletov), названия с того же сайта.

###Аэропорт назначения
Опять же, аэропорт назначения имеет название и [коды](http://airportsbase.ru/). Причём коды IATA мне нравятся больше. О, господи, чёртовы рейсы с пересадкой! Вот, например, ФР 685. И ведь им можно долететь в Новосибирск! И куда писать информацию об этом? Но то, как это сделано на сайте аэропорта Внуково, мне не нравится.

###Плановое время вылета или прилёта
Вроде всё просто. Надо подумать, как этот столбец будет затираться фактическим временем прилёта/вылета.

###Статус рейса
Ох, вот тут надо много думать. Нужно ли впихивать сюда номера выходов, стоек регистрации?

###Примечание
Нда, надо подумать. Редкоиспользуемое поле. С другой стороны, довольно важное. Можно использовать его пространство для выписывания стоек регистрации. Ну, а если одновременно регистрация и codeshare? Ну, писать туда и то, и другое в каком-нибудь порядке. Хм, можно подумать о рейсах с пересадками.

Какие я ещё поля хочу, кроме тех, что указаны в задании?

###Город назначения/вылета
Очень полезная штука. Незачем людям волноваться, в Москве ли Внуково.

###Страна назначения/вылета
Менее полезно, чем город назначения, но всё-таки.

#Погода в месте назначения
Для очень широких экранов :)

###Время отправления для прилетающих самолётов и время прибытия для улетающих
Очевидно, полезная информация. Хм. А как оформить рейс, обратный к ФР 685? О, Дату тоже надо.

###Терминал
Наверное, бывают всё-таки аэропорты без терминала. Но я, видимо, возьму рейсы Внуково.


Шаг 2. Взгляд на реальные данные
--------------------------------

Ну, можно просто распарсить страницу с сайта Внуково. Мде. Давайте что-ли их исходный код почитаем, чтобы понять, как получить детализированную информацию по рейсу как-нибудь автоматически.

Ву-ху! Чтение [яваскрипта](http://www.vnukovo.ru/bitrix/templates/.default/js/scripts.js?142746585121278) на сайте Внуково дало синтаксис get-запроса :)

'''
var $this = $(this);
		var rel = $this.attr('rel');
		var lang = $this.data('lang')
		var type = $this.parents('table').attr('rel');
		ShowWait();

$.get(
			"/cached_ajax/getFlightTableInfo.php",
			{'popup_id':rel, 'popup_type': type, 'lang' : lang},
'''

Пробую…

'''
http://www.vnukovo.ru/cached_ajax/getFlightTableInfo.php?popup_id=92507&popup_type=dflight&lang=ru
'''

Получилось!

[Moscupols](https://github.com/moskupols) подсказывает, что нужно было смотреть ресурсы, к которым браузер делает запрос. Мда. Ну, действительно, инструменты разработчика -> network, и всё тот же запрос.

Воу, опечатка, пункт *оправления*. Нда, кажется я сильно отвлекаюсь. Сколько рейсов мне нужно? Сайт Внуково показывает мне 15 рейсов на одном экране. Значит, для начала можно создать 20 рейсов: 10 вылет, 10 прилёт. Этого вполне хватит, чтобы протестировать возможности вёрстки. Всё равно данные с сайта Внуково весьма некачественные, всё равно разбивать город и аэропорт, а также содержимое поля «статус» нужно ручками. Пустая трата сил, суть задания не в этом. Итак, схема базы данных, на которую хочется опираться.

*Рейсы*
Номер рейса (string, ID)
авиакомпания (id)
аэропорт другого конца пути (id)
плановое время начала рейса (time)
плановое время конца рейса (time)
терминал (string)
тип самолёта (string)

*Аэропорты*
ICAO (string, ID)
IATA (string)
город (string, id)
название (string)

*Города*
название (string, ID)
страна (string)
данные о погоде (string)

В процессе придумывания интерфейса выяснилось, что бывают рейсы с [промежуточными остановками](http://aviaforum.ru/threads/rejs-s-promezhutochnoj-posadkoj.34430/), а иногда вообще [круговые](http://forum.tr.ru/read.php?18,852199). Жутко. Впрочем, сейчас круговые — редкость. Видимо, в итоге, часть данных легче придумать. Собирать реальные рейсы, в которых есть всё это, сложно. О, а ещё [бывает](http://www.oneaero.ru/FlightInfo/SQ-062) одновременно персадка и код-шеринг, причём код-шеринг только на часть рейса. Впрочем, вроде цикла из код-шар-зависимостей быть не может.